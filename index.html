<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>asari2025</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="first-page">
    <!-- <div id="pc-warning">※スマホ専用サイトです。スマートフォンでご利用ください。</div> -->
    <h2>ASARI2025</h2>

    <div class="page active"></div>

    <!-- STORYセクション -->
    <section id="story-section">
      <h2 class="story-title">～STORY～</h2>
      <div class="story-chat">
        <div id="chat-dialog">
          ある日、あなたはなにやら大きな物音がした方へ向かった…
        </div>

        <div class="chat user">う、宇宙人！？</div>
        <div class="chat alien">
          あ！「にんげん」だ！！<br />お願い、僕を助けて！
        </div>
        <div class="chat user">しゃべった…<br />助けてってどうしたの？</div>
        <div class="chat alien">
          宇宙一周しようと思って土星から来たんだけど、どうやら墜落しちゃったみたいで…
        </div>
        <div class="chat ailien">
          「にんげん」がいるってことは<br />ここは地球かな…
        </div>
        <div class="chat user">
          宇宙一周！？ってことは<br />もしかしてあれに乗ってきたの？
        </div>
        <div class="chat alien">
          そうだよ！でも入れないし、<br />セキュリティも直さなくちゃいけない…
        </div>
        <div class="chat alien highlight">
          そんな時君が来てくれたんだ！お願い！<br /><span class="red"
            >宇宙に帰るお手伝いしてくれない？</span
          >
        </div>
        <div class="chat user">わかった、協力するよ！</div>
        <div class="chat alien">いいの？</div>
        <div class="chat user">宇宙人にあってみたかったし！</div>
        <div class="chat alien">ありがとう！君は命の恩人だ～！(泣)</div>
        <div class="chat user">じゃあえっと…君はなんていうの？</div>
        <div class="chat alien">僕は…………あれ？</div>
        <div class="chat user">え…？</div>
        <div class="chat alien">僕、名前忘れちゃった…</div>
        <div class="chat user">え～～～～～～～～～～～～！？</div>
      </div>
    </section>

    <div style="text-align: center">
      <button
        class="first-next-btn"
        onclick="window.location.href='step.html?step=1'"
      >
        STEP1へ進む
      </button>
    </div>

    <div class="hamburger" id="hamburger">
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div class="menu" id="menu">
      <a href="#" data-step="0">タイトル</a>
      <a href="#" data-step="1">STEP1</a>
      <a href="#" data-step="2" class="locked">STEP2</a>
      <a href="#" data-step="3" class="locked">STEP3</a>
      <a href="last.html" class="locked">Last</a>
    </div>

    <script src="main.js"></script>
    <script>
      function showTitle() {
        // タイトルコール演出
        const titleCall = document.createElement("div");
        titleCall.classList.add("title-call");
        titleCall.textContent = "宇宙への帰還";
        document.body.appendChild(titleCall);
        setTimeout(() => {
          titleCall.classList.add("show");
        }, 50);
        setTimeout(() => {
          titleCall.classList.remove("show");
          setTimeout(() => {
            titleCall.remove();
          }, 1000);
        }, 1500);
      }

      function onScrollTop() {
        // 一番上までスクロールされた時の処理
        showTitle();
      }

      // ページ読み込み時にタイトルコールを自動表示
      window.addEventListener("DOMContentLoaded", () => {
        // 少し遅延させてページが完全に読み込まれてから実行
        setTimeout(() => {
          showTitle();
        }, 100);
      });

      window.addEventListener("scroll", () => {
        const story = document.getElementById("story-section");
        if (!story) return;
        const trigger = 20;
        if (window.scrollY > trigger) {
          story.classList.add("visible");
          document.querySelectorAll(".title-call").forEach((elem) => {
            console.log("粛清!");
            elem.classList.remove("show");
            setTimeout(() => {
              elem.remove();
            }, 300);
          });
        } else {
          story.classList.remove("visible");
          // 一番上に来た時にタイトルコールを表示
          if (window.scrollY === 0) {
            onScrollTop();
          }
        }
      });
    </script>
  </body>
</html>
