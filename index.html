<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>asari2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: #f9f9f9;
    }
    .page { display: none; padding: 20px; }
    .active { display: block; }

    /* ====== ã‚¹ãƒãƒ›å°‚ç”¨è­¦å‘Š ====== */
    #pc-warning {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      text-align: center;
      padding: 20px;
      z-index: 2000;
    }

    /* ====== ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å‹•ç”» ====== */
    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1500;
    }
    .overlay iframe {
      width: 90%;
      height: 50%;
      border-radius: 12px;
    }
    .close-btn {
      position: absolute;
      top: 10px; right: 20px;
      background: #fff;
      border: none;
      padding: 10px 16px;
      cursor: pointer;
      border-radius: 8px;
      font-size: 16px;
    }

    /* ====== ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ ====== */
    .title-section {
      height: 100vh;
      background: url('title.jpg') no-repeat center center/cover;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: bold;
    }
    .story-section, .desc-section {
      padding: 60px 20px;
      text-align: center;
    }
    .start-btn {
      display: inline-block;
      padding: 14px 28px;
      background: #0078ff;
      color: #fff;
      border-radius: 12px;
      text-decoration: none;
      font-size: 18px;
      margin-top: 20px;
    }

    /* ====== ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ====== */
    .hamburger {
      position: fixed;
      top: 16px; right: 16px;
      cursor: pointer;
      z-index: 1600;
      width: 30px; height: 22px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .hamburger div {
      height: 4px;
      background: black;
      border-radius: 2px;
    }

    .menu {
      position: fixed;
      top: 0;
      right: 0;
      width: 200px;
      height: 100%;
      background: #fff;
      box-shadow: -2px 0 5px rgba(0,0,0,0.3);
      transform: translateX(100%); /* åˆæœŸçŠ¶æ…‹ã¯ç”»é¢å¤– */
      transition: transform 0.3s ease;
      z-index: 9999;
    }

    /* é–‹ã„ãŸã¨ã */
    .menu.open {
      transform: translateX(0);
    }
    .menu a.locked {
      color: gray;
      pointer-events: none;
    }


    /* é–‹ã„ãŸã¨ãã«è¡¨ç¤º */
    #menu.open {
      transform: translateX(0);
    }

    /* ====== å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  ====== */
    input {
      padding: 10px;
      margin: 10px;
      font-size: 18px;
      width: 80%;
      max-width: 300px;
    }
    button {
      padding: 10px 18px;
      font-size: 16px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <!-- PC/æ¨ªç”»é¢ç”¨è­¦å‘Š -->
  <div id="pc-warning">âš ï¸ ã“ã®ã‚µã‚¤ãƒˆã¯ã‚¹ãƒãƒ›å°‚ç”¨ã§ã™ã€‚<br>ã‚¹ãƒãƒ›ã‚’ç¸¦å‘ãã«ã—ã¦ã”åˆ©ç”¨ãã ã•ã„ã€‚</div>

  <!-- ====== ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å‹•ç”» ====== -->
  <div id="overlay" class="overlay">
    <iframe src="https://www.youtube.com/embed/ã€å‹•ç”»IDã€‘" frameborder="0" allowfullscreen></iframe>
    <button class="close-btn" onclick="closeOverlay()">é–‰ã˜ã‚‹ âœ•</button>
  </div>

  <!-- ====== ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ====== -->
  <div class="hamburger">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <div id="menu" class="menu">
    <a href="#" onclick="goToStep('title')" id="menu-title">ã¯ã˜ã‚ã«</a>
    <a href="#" onclick="goToStep('step1', event)" id="menu-step1">STEP1</a>
    <a href="#" onclick="goToStep('step2', event)" id="menu-step2" class="locked">STEP2</a>
    <a href="#" onclick="goToStep('step3', event)" id="menu-step3" class="locked">STEP3</a>
    <a href="#" onclick="goToStep('laststep', event)" id="menu-last" class="locked">LAST</a>
  </div>

  <!-- ====== ã‚¿ã‚¤ãƒˆãƒ«ãƒšãƒ¼ã‚¸ ====== -->
  <div id="title" class="page active">
    <div class="title-section">asari2025</div>
    <div class="story-section">
      <h2>Story</h2>
      <p>ã“ã“ã«ç‰©èªã®å°å…¥ã‚’æ›¸ãã€‚</p>
    </div>
    <div class="desc-section">
      <h2>èª¬æ˜</h2>
      <p>ãƒ«ãƒ¼ãƒ«ã‚„éŠã³æ–¹ã‚’ã“ã“ã«æ›¸ãã€‚</p>
      <button class="start-btn" onclick="goToStep('step1')">STEP1ã¸é€²ã‚€</button>
    </div>
  </div>

  <!-- STEPãƒšãƒ¼ã‚¸ -->
  <div id="step1" class="step-page">
    <!-- Storyãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
    <div class="story-popup" id="story1">
      <img src="story1.jpg" alt="Story1">
      <button onclick="closeStory(1)">é–‰ã˜ã‚‹</button>
    </div>

    <!-- 6ã¤ã®æ­£æ–¹å½¢ãƒœã‚¿ãƒ³ -->
    <div class="problem-grid">
      <button onclick="goProblem(1,1)">1</button>
      <button onclick="goProblem(1,2)">2</button>
      <button onclick="goProblem(1,3)">3</button>
      <button onclick="goProblem(1,4)">4</button>
      <button onclick="goProblem(1,5)">5</button>
      <button onclick="goProblem(1,6)">6</button>
    </div>

    <!-- æŒ‡ç¤ºæ–‡ -->
    <div class="instruction">
      <p>ã“ã“ã«æŒ‡ç¤ºæ–‡</p>
      <input type="text" id="step1-input">
      <button onclick="checkStepAnswer(1)">æ±ºå®š</button>
    </div>
  </div>

  <!-- å°å•é¡Œãƒšãƒ¼ã‚¸ -->
  <div id="step1-problem1" class="problem-page">
    <h2>å•é¡Œ1</h2>
    <img src="problem1.jpg" alt="å•é¡Œ1">
    <input type="text" id="answer1-1">
    <button onclick="checkProblemAnswer(1,1)">æ±ºå®š</button>
    <button onclick="goBackStep(1)">æˆ»ã‚‹</button>
  </div>


  <!-- STEP2 -->
  <div id="step2" class="page step-page">
    <h2>STEP2</h2>
    <p>(æ­£è§£: ã‚ã•ã‚Š)</p>
    <input type="text" id="answer2"><br>
    <button onclick="checkAnswer(2)">é€ä¿¡</button>
  </div>

  <!-- STEP3 -->
  <div id="step3" class="page step-page">
    <h2>STEP3</h2>
    <p>(æ­£è§£: ãˆã«ãã¾)</p>
    <input type="text" id="answer3"><br>
    <button onclick="checkAnswer(3)">é€ä¿¡</button>
  </div>

  <!-- LAST -->
  <div id="laststep" class="page">
    <h2>LAST STEP</h2>
    <p>ğŸ‰ ã‚¯ãƒªã‚¢ï¼ãŠã‚ã§ã¨ã† ğŸ‰</p>
  </div>

  <script>
    const answers = {1:"ã²ã‚ã¨ã‚“", 2:"ã‚ã•ã‚Š", 3:"ãˆã«ãã¾"};

    // ã‚¹ãƒãƒ›åˆ¤å®š
    function checkDevice(){
      if(window.innerWidth > window.innerHeight){
        document.getElementById("pc-warning").style.display="flex";
      } else {
        document.getElementById("pc-warning").style.display="none";
        document.querySelector(".hamburger").style.display = "flex";
      }
    }
    window.addEventListener("resize", checkDevice);
    window.addEventListener("load", checkDevice);

    // å‹•ç”»ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
    function closeOverlay(){ document.getElementById("overlay").style.display="none"; }

    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰
    function toggleMenu() {
      document.getElementById("menu").classList.toggle("open");
    }

    // ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆ
    document.querySelector(".hamburger").addEventListener("click", toggleMenu);

    // ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆ
    function goToStep(stepId, event){
      if(event) event.preventDefault();
      document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
      document.getElementById(stepId).classList.add("active");
      // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
      document.getElementById("menu").classList.remove("open");
    }

    function openStory(step) {
      document.getElementById(`story${step}`).style.display = 'flex';
    }
    function closeStory(step) {
      document.getElementById(`story${step}`).style.display = 'none';
    }

    function goProblem(step, num) {
      document.querySelectorAll('.step-page, .problem-page').forEach(p => p.style.display='none');
      document.getElementById(`step${step}-problem${num}`).style.display = 'block';
    }

    function checkProblemAnswer(step, num) {
      const input = document.getElementById(`answer${step}-${num}`).value.trim();
      if(input === correctAnswers[step][num]) {
        alert("æ­£è§£ï¼");
        // å°å•é¡Œã‚’ã‚¯ãƒªã‚¢ã—ãŸãƒ•ãƒ©ã‚°ã‚’ç®¡ç†
      } else {
        alert("ä¸æ­£è§£ï¼");
      }
    }

    function goBackStep(step) {
      // ã™ã¹ã¦ã®STEPãƒšãƒ¼ã‚¸ã¨å°å•é¡Œãƒšãƒ¼ã‚¸ã‚’éè¡¨ç¤º
      document.querySelectorAll('.step-page, .problem-page').forEach(p => p.style.display = 'none');

      // æŒ‡å®šã•ã‚ŒãŸSTEPãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
      document.getElementById(`step${step}`).style.display = 'block';
    }

    function checkStepAnswer(step) {
      const input = document.getElementById(`step${step}-input`).value.trim();
      if(input === stepCorrect[step]) {
        goStep(step + 1); // æ¬¡STEPã¸
      } else {
        alert("é•ã†ã‚ˆï¼");
      }
    }

    // ç­”ãˆåˆ¤å®š
    function checkAnswer(step){
      let input = document.getElementById(`answer${step}`).value.trim();
      if(input === answers[step]){
        alert("æ­£è§£ï¼");
        unlockMenu(step+1);
        if(step<3){
          goToStep(`step${step+1}`);
        } else {
          document.getElementById("menu-last").classList.remove("locked");
          goToStep("laststep");
        }
      } else {
        alert("ä¸æ­£è§£ï¼");
      }
    }

    function goProblem(step, num) {
      // ã™ã¹ã¦ã®å°å•é¡Œãƒšãƒ¼ã‚¸ã ã‘éè¡¨ç¤º
      document.querySelectorAll('.problem-page').forEach(p => p.style.display='none');
      // æŒ‡å®šã®å°å•é¡Œãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
      document.getElementById(`step${step}-problem${num}`).style.display = 'block';
      // STEPãƒšãƒ¼ã‚¸ã¯éè¡¨ç¤ºã«ã™ã‚‹
      document.getElementById(`step${step}`).style.display = 'none';
    }


    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼è§£æ”¾
    function unlockMenu(step){
      if(step===1) document.getElementById("menu-step1").classList.remove("locked");
      if(step===2) document.getElementById("menu-step2").classList.remove("locked");
      if(step===3) document.getElementById("menu-step3").classList.remove("locked");
    }

  </script>

</body>
</html>
